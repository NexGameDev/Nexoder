<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<title>üîê Secret Code Decoder</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: radial-gradient(circle at top, #0b1430, #040814);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  overscroll-behavior: none;
  touch-action: manipulation;
}

.container {
  max-width: 420px;
  margin: auto;
  padding: 24px 16px 40px;
  color: #fff;
}

h1 {
  text-align: center;
  font-size: 22px;
  margin-bottom: 24px;
}

label {
  font-size: 14px;
  opacity: 0.9;
}

textarea {
  width: 100%;
  height: 120px;
  margin-top: 8px;
  margin-bottom: 20px;
  padding: 14px;
  border-radius: 14px;
  background: rgba(255,255,255,0.03);
  border: 2px solid rgba(255,255,255,0.15);
  color: #fff;
  font-size: 16px; /* WAJIB 16px (anti zoom) */
  resize: none;
  outline: none;
}

textarea:focus {
  border-color: #ffb000;
  box-shadow: 0 0 0 2px rgba(255,176,0,0.25);
}

.hint {
  text-align: center;
  font-size: 12px;
  opacity: 0.6;
}
</style>
</head>

<body>
<div class="container">
  <h1>üîê Secret Code Decoder</h1>

  <label>Plaintext</label>
  <textarea id="plain" placeholder="Ketik atau tempel teks biasa di sini..."></textarea>

  <label>Secret Code</label>
  <textarea id="code" placeholder="Ketik atau tempel kode rahasia di sini..."></textarea>

  <div class="hint">
    Keyboard HP aktif ‚Ä¢ Tidak auto zoom ‚Ä¢ Bisa copy & paste
  </div>
</div>

<script>
const map = {
  A:"/", B:":.", C:":", D:"|", E:"-:", F:"=",
  G:"g~", H:"|-", I:"!", J:"'-", K:"'",
  L:"--", M:"^", N:"\\", O:"¬∞", P:"{",
  Q:"x:", R:"r=", S:"‚â°", T:"‚îÄ",
  U:"u:", V:"_", W:"vv", X:"::",
  Y:"[", Z:">"
};

const reverseMap = Object.fromEntries(
  Object.entries(map).map(([k,v]) => [v,k])
);

const plain = document.getElementById("plain");
const code  = document.getElementById("code");

let lock = false;

plain.addEventListener("input", () => {
  if (lock) return;
  lock = true;
  code.value = encode(plain.value);
  lock = false;
});

code.addEventListener("input", () => {
  if (lock) return;
  lock = true;
  plain.value = decode(code.value);
  lock = false;
});

function encode(text) {
  return text.toUpperCase().split("").map(c => {
    if (c === " ") return " ";
    return map[c] || c;
  }).join("");
}

function decode(text) {
  let out = "";
  let i = 0;
  while (i < text.length) {
    if (text[i] === " ") {
      out += " ";
      i++;
      continue;
    }
    let found = false;
    for (let key in reverseMap) {
      if (text.startsWith(key, i)) {
        out += reverseMap[key];
        i += key.length;
        found = true;
        break;
      }
    }
    if (!found) {
      out += text[i];
      i++;
    }
  }
  return out;
}
</script>
</body>
</html>
